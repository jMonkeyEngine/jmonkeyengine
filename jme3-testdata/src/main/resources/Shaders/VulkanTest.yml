name: "VulkanTest"
# Links type placeholders to full class names used for instantiation
# by reflection. This enables custom types to be used. Common engine
# types are supported by default.
imports:
  MyUniformType: "com.username.MyCustomUniform"
  MyBufferMember: "com.username.MyCustomBufferMember"
  MyRasterState: "com.username.MyCustomRasterState"
parameters:
  # Most valid parameter arguments are defined by managing Uniform object
  # including default values. Exceptions are type, set, and define.
  # Also, binding and stages are handled by AbstractUniform.
  - name: "Matrices"
    type: UniformBuffer
    layout: # defines the layout of the uniform buffer
      worldViewProjection:
        type: Matrix4f
      time:
        type: Float
        default: 1.0
      myval:
        type: com.username.hello.world.MyBufferMember
        default: "parse_this"

  - name: "BaseColorMap"
    type: Texture
    default: "Common/Textures/MissingTexture.jpg"

  - name: "MyValue"
    type: MyUniformType
    default: "parse_this"

techniques:
  - name: "main"
    shaders:
      - stage: Vertex
        file: "Shaders/VulkanVertTest.yml"
        entry: "main"
      - stage: Fragment
        file: "Shaders/VulkanFragTest.yml"
        # entry is "main" by default
      - shader: "Vertex:Shaders/VulkanVertTest.yml:main"
    layout:
      - name: "BaseColorMap"
        descriptor: CombinedImageSampler
        stages: [Fragment]
        set: 0
        binding: 1
      - layout: "UniformBuffer:Matrices:0.0"
        stages: [Vertex]
        define: "MATRICES"
    renderState:
      cullMode: None
      stencil:
        frontStencilFail: Keep

