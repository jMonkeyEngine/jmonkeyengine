
<h1><a>Materials Overview</a></h1>
<div>

<p>

Geometries have Materials (.j3m), Materials are based on material definitions (.j3md). You can <a href="/com/jme3/gde/core/docs/jme3/advanced/j3m_material_files.html">write .j3m files in a text editor</a>, or <a href="/com/jme3/gde/core/docs/sdk/material_editing.html">use the jMonkeyEngine SDK to generate</a> them for you.
</p>

<p>
This table shows you the material definitions that jMonkeyEngine supplies by default. You want to make the most of your models by using the right material parameters. The developers should be in contact with the graphic designer regarding which of the available jMonkeyEngine features individual Materials and Textures require. You must have an understanding what <a href="/com/jme3/gde/core/docs/jme3/terminology#materialstextures.html">texture maps</a> are to be able to use textured materials.
</p>

</div>

<h2><a>Usage</a></h2>
<div>

<p>

There are two types of material definitions below, illuminated and unshaded. Illuminated materials look more naturalistic, unshaded ones look more abstract.
</p>

<p>
Most parameters are not mandatory, even if they are not explicitly marked optional. For example, it is okay to specify solely the <code>DiffuseMap</code> and <code>NormalMap</code> when using <code>Lighting.j3md</code>, and leave the rest empty. You are only using a subset of the available features, but that&#039;s fully acceptable if it already results in the material you want. You can always add more texture maps later.
</p>

<p>
<p><div>1) Looks confusing? Start with <code>Unshaded.j3md</code>, and then <code>Lighting.j3md</code>. <br/>
2) The jMonkeyEngine <a href="/com/jme3/gde/core/docs/sdk.html">SDK</a> offers a visual editor where you can set properties and preview the outcome. The <acronym title="Software Development Kit">SDK</acronym> Palette contains code snippets to load materials. <br/>
3) If you don&#039;t know what an optional setting means, you&#039;re likely not using it. 
</div></p>
</p>

</div>

<h2><a>Standard Coloring and Textures</a></h2>
<div>

<p>

Standard materials look slightly abstract because they ignore light sources. They work even if the scene does not include a light source. They are single-colored or textured and have no shadows. 

</p>
<div><table>
	<tr>
		<th> Basic Material Definition                     </th><th> Usage </th><th> Parameter : Type  </th>
	</tr>
	<tr>
		<td> Common/MatDefs/Misc/Unshaded.j3md </td><td> Standard, non-illuminated Materials. Use this for simple coloring, simple texturing, simple glow, simple transparency. <br/>
See also: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_material.html">Hello Material</a> </td><td> ColorMap : Texture <br/>
LightMap : Texture <br/>
Color : Color <br/>
VertexColor : Boolean <br/>
SeparateTexCoord : Boolean <br/>
GlowMap : Texture <br/>
GlowColor: Color </td>
	</tr>
</table></div>
<!-- EDIT1 TABLE [1907-2345] -->
<p>

Other useful, but less commonly used material definitions:

</p>
<div><table>
	<tr>
		<th> Special Material Definitions            </th><th> Usage </th><th> Parameter : Type  </th>
	</tr>
	<tr>
		<td> Common/MatDefs/Misc/Sky.j3md            </td><td> A solid skyblue, or use with a custom SkyDome texture. <br/>
See also: <a href="/com/jme3/gde/core/docs/jme3/advanced/sky.html">Sky</a> </td><td> Texture : TextureCubeMap <br/>
SphereMap : Boolean <br/>
NormalScale : Vector3 </td>
	</tr>
	<tr>
		<td> Common/MatDefs/Terrain/Terrain.j3md </td><td> Splat textures for e.g. terrains. <br/>
See also: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_terrain.html">Hello Terrain</a> </td><td> Texture1 : Texture (red) <br/>
Texture1Scale : Float <br/>
Texture2 : Texture (green) <br/>
Texture2Scale : Float <br/>
Texture3 : Texture (blue)  <br/>
Texture3Scale : Float <br/>
Alpha : Texture </td>
	</tr>
	<tr>
		<td>Common/MatDefs/Terrain/HeightBasedTerrain.j3md</td><td>A multi-layered texture for terrains. <br/>
Specify four textures and a Vector3f describing the region in which each texture should appear: <br/>
X = start height, <br/>
Y = end height, <br/>
Z = texture scale. <br/>
Texture regions can overlap. <br/>
For example: Specify a seafloor texture for the lowest areas, <br/>
a sandy texture for the beaches, <br/>
a grassy texure for inland areas, <br/>
and a rocky texture for mountain tops.</td><td> terrainSize : Float <br/>
region1ColorMap : Texture2D <br/>
region2ColorMap : Texture2D <br/>
region3ColorMap : Texture2D <br/>
region4ColorMap : Texture2D <br/>
region1 : Vector3 <br/>
region2 : Vector3 <br/>
region3 : Vector3 <br/>
region4 : Vector3 <br/>
<strong>Settings for steep areas:</strong> <br/>
slopeColorMap : Texture2D <br/>
slopeTileFactor : Float</td>
	</tr>
	<tr>
		<td> Common/MatDefs/Misc/Particle.j3md       </td><td> Used with texture masks for particle effects, or for point sprites. <br/>
The Quadratic value scales the particle for perspective view (<object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/trunk/engine/src/core/com/jme3/effect/ParticleEmitter.java"><param name="text" value="<html><u>formula</u></html>"><param name="textColor" value="blue"></object>). <br/>
Does support an optional colored glow effect. <br/>
See also: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_effects.html">Hello Effects</a> </td><td> Texture : Texture <br/>
GlowMap : Texture <br/>
GlowColor : Color <br/>
Quadratic : Float <br/>
PointSprite : Boolean </td>
	</tr>
</table></div>
<!-- EDIT2 TABLE [2407-4279] -->
</div>

<h2><a>Phong Illuminated</a></h2>
<div>

<p>

Illuminated materials require a <a href="/com/jme3/gde/core/docs/jme3/advanced/light_and_shadow.html">light source</a> added to at least one of their parent nodes! (e.g. rootNode) Illuminated materials are darker on the sides facing away from light sources. They do not automatically cast <a href="/com/jme3/gde/core/docs/jme3/advanced/light_and_shadow.html">drop shadows</a>. They use Phong illumination model (default), or the Ward isotropic gaussian specular shader (WardIso) which looks more plastic like.

</p>
<div><table>
	<tr>
		<th>Illuminated Material Definition </th><th> Usage </th><th> Parameters  </th>
	</tr>
	<tr>
		<td> Common/MatDefs/Light/Lighting.j3md      </td><td> Standard lit material with Phong Illumination. <br/>
Use this material together with DiffuseMap, SpecularMap, BumpMap (NormalMaps, ParalaxMap) textures. <br/>
Supports shininess, transparency, and plain material colors (Diffuse, Ambient, Specular colors). <br/>
See also: <a href="/com/jme3/gde/core/docs/jme3/beginner/hello_material.html">Hello Material</a> <br/>
 Glowing materials require a <a href="/com/jme3/gde/core/docs/jme3/advanced/bloom_and_glow.html">FilterPostProcessor</a>! </td><td> DiffuseMap : Texture <br/>
UseAlpha<sup><a href="#fn__1">1)</a></sup> : Boolean <br/>
NormalMap : Texture <br/>
LATC<sup><a href="#fn__2">2)</a></sup> : Boolean  <br/>
SpecularMap : Texture <br/>
Shininess : Float [1-128] <br/>
ParallaxMap : Texture <br/>
AlphaMap : Texture <br/>
AlphaDiscardThreshold: Float <br/>
ColorRamp : Texture <br/>
<strong>Glow (optional)</strong> <br/>
GlowMap : Texture <br/>
GlowColor : Color <br/>
<strong>Performance and quality (optional)</strong> <br/>
VertexLighting : Boolean <br/>
UseVertexColor  : Boolean <br/>
LowQuality : Boolean <br/>
HighQuality : Boolean <br/>
<strong>Material Colors (optional)</strong> <br/>
UseMaterialColors : Boolean <br/>
Diffuse : Color <br/>
 Ambient : Color <br/>
Specular : Color <br/>
<strong>Tangent shading (optional):</strong> <br/>
VTangent : Boolean <br/>
Minnaert<sup><a href="#fn__3">3)</a></sup> : Boolean <br/>
WardIso<sup><a href="#fn__4">4)</a></sup> : Boolean </td>
	</tr>
</table></div>
<!-- EDIT3 TABLE [4746-6102] --><div><table>
	<tr>
		<th>Special Illuminated Material Definitions </th><th> Usage </th><th> Parameters  </th>
	</tr>
	<tr>
		<td>Common/MatDefs/Terrain/TerrainLighting.j3md</td><td>Same kind of multi-layered splat texture as Terrain.j3md, but with illumination and shading. <br/>
Typically used for terrains, but works on any mesh. <br/>
For every 3 splat textures, you need one alpha map. <br/>
You can use a total of 11 texture maps in the terrain&#039;s splat texture: <br/>
Note that diffuse and normal maps all count against that. <br/>
For example, you can use a maximum of 9 diffuse textures, two of which can have normal maps; <br/>
or, five textures with both diffuse and normal maps.</td><td>Diffuse : Color <br/>
Ambient : Color <br/>
Shininess : Float <br/>
Specular : Color <br/>
SpecularMap : Texture <br/>
WardIso : Boolean <br/>
useTriPlanarMapping : Boolean <br/>
isTerrainGrid : Boolean <br/>
<strong>Texture Splat Maps</strong> <br/>
DiffuseMap : Texture <br/>
DiffuseMap_0_scale : Float <br/>
NormalMap : Texture <br/>
DiffuseMap_1 : Texture <br/>
DiffuseMap_1_scale : Float <br/>
NormalMap_1 : Texture <br/>
DiffuseMap_2 : Texture <br/>
DiffuseMap_2_scale : Float <br/>
NormalMap_2 : Texture <br/>
DiffuseMap_3 : Texture <br/>
DiffuseMap_3_scale : Float <br/>
NormalMap_3 : Texture <br/>
etc, up to 11. <br/>
<strong>Alpha Maps</strong> <br/>
AlphaMap : Texture <br/>
AlphaMap_1 : Texture <br/>
AlphaMap_2 : Texture <br/>
<strong>Glowing</strong> <br/>
GlowMap : Texture <br/>
GlowColor : Color </td>
	</tr>
	<tr>
		<td> Common/MatDefs/Light/Reflection.j3md    </td><td> Reflective glass material with environment map (CubeMap/SphereMap). See also: <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/trunk/engine/src/test/jme3test/texture/TestCubeMap.java"><param name="text" value="<html><u>TestCubeMap.java</u></html>"><param name="textColor" value="blue"></object> </td><td> Texture : Texture <br/>
SphereMap: Boolean </td>
	</tr>
</table></div>
<!-- EDIT4 TABLE [6104-7693] -->
<p>

<p><div><strong>Shininess Tip:</strong> To deactivate Shininess, do not set <code>Shininess</code> to 0, but instead set the <code>Specular</code> color to <code>ColorRGBA.Black</code>!
</div></p>
</p>

<p>
<p><div><strong>Bumpiness Tip:</strong> Before you can use NormalMaps, you must generate normals for the mesh (not the Geometry). <code>TangentBinormalGenerator.generate(mesh);</code>
</div></p>
</p>

</div>

<h2><a>Testing and Debugging</a></h2>
<div>
<div><table>
	<tr>
		<th> Material Definition                     </th><th> Usage </th><th> Parameters  </th>
	</tr>
	<tr>
		<td> Common/MatDefs/Misc/ShowNormals.j3md    </td><td> A color gradient calculated from the model&#039;s surface normals. You can use this built-in material to test models that have no material, or as fall-back default material. </td><td> â€“ </td>
	</tr>
</table></div>
<!-- EDIT5 TABLE [8058-8343] -->
</div>

<h2><a>Transparency</a></h2>
<div>

<p>

Most Material Definitions support an alpha channel for opaqueness and transparency in textures. In an RGBA color, the last float is the alpha channel: 0.0f is transparent and 1.0f is opaque. For example, <code>mat.setColor(&quot;Color&quot;, new ColorRGBA(1,0,0,0.5f));</code> is a half-opaque red. 
</p>

<p>
Additionally, you must specify a blendmode:

</p>
<div><table>
	<tr>
		<th>Option</th><th>Usage</th><th>Example</th>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.Off);</td><td>Opaque</td><td></td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.Alpha);</td><td>Use this for normal transparency. Interpolates the background pixel with the current pixel by using the current pixel&#039;s alpha.</td><td>Hair texture, window panes, ice, glass, alpha-blended vegetation textures. </td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setDepthWrite(false);</td><td>Use this on materials if you have several transparent objects obscuring one another. Disables writing of the pixel&#039;s depth value to the depth buffer.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setAlphaFallOff(0.5f); <br/>
mat.getAdditionalRenderState().setAlphaTest(true)</td><td>Enables alpha test. Works the same way as &quot;AlphaDiscardThreshold&quot;.</td><td>Generally used for vegetation etc.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.Additive);</td><td>Additive alpha blending adds colors in a commutative way, i.e. the result does not depend on the order of transparent layers. Adds the scene&#039;s background pixel color to the current pixel color. Note that viewed in front of a white scene, these textures become fully transparent. This is useful if you have many transparent textures overlapping.</td><td>Used for particle effect textures that have a black color background. </td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.AlphaAdditive);</td><td>Same as &quot;Additive&quot;, except first it multiplies the current pixel color by the pixel alpha.</td><td>Used for particle effects that have alpha as background. </td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.Color);</td><td>Blends by color.</td><td>Generally useless.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.Modulate);</td><td>Multiplies the background pixel by the current pixel.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.ModulateX2);</td><td>Same as &quot;Modulate&quot;, except the result is doubled.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setBlendMode(BlendMode.PremultAlpha);</td><td>Pre-multiplied alpha blending. E.g. if the color of the object has already been multiplied by its alpha, this is used instead of &quot;Alpha&quot; blend mode.</td><td>For use with premult alpha textures.</td>
	</tr>
</table></div>
<!-- EDIT6 TABLE [8698-10778] -->
<p>

Also note the AlphaDiscardThreshold value for materials based on Lighting.j3md. The renderer does not render pixels whose transparancy is below the threshold.
</p>

</div>

<h2><a>Material Options</a></h2>
<div>
<div><table>
	<tr>
		<th>Material Option</th><th>Usage</th>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setWireframe(true);</td><td>Switch to showing the (textured) Material in wireframe mode</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setFaceCullMode(FaceCullMode.Back); </td><td>Activate back-face culling. Mesh faces that are not visible are not rendered, which saves time. Backface culling is activated by default as an optimization.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setFaceCullMode(FaceCullMode.Off); </td><td>No culling. All meshes are rendered even if they are out of view. Slow.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setFaceCullMode(FaceCullMode.Front); </td><td>Activate front-face culling. Mesh faces facing the camera are not rendered. Typically not used.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setFaceCullMode(FaceCullMode.FrontAndBack)</td><td>Activate both back- and frontface culling. Use this as an efficient way to make an object temporarily invisible. All it&#039;s other in-game properties, collision shapes, interactions, etc remain active.</td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setColorWrite(false);</td><td>Disable writing the color of pixels. Use this together with setDepthWrite(true) to write pixels only to the depth buffer, for example. </td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setPointSprite(true);</td><td>Enables point-sprite mode, so meshes with &quot;Mode.Points&quot; will be rendered as textured sprites. Note that gl_PointCoord must be set in the shader. Point sprites are used for hardware accelerated particle effects. </td>
	</tr>
	<tr>
		<td>mat.getAdditionalRenderState().setPolyOffset();</td><td>Enable polygon offset. Use this when you have meshes that have triangles really close to each over (e.g. <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://en.wikipedia.org/wiki/Coplanarity"><param name="text" value="<html><u>Coplanar</u></html>"><param name="textColor" value="blue"></object>), it will shift the depth values to prevent <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://en.wikipedia.org/wiki/Z-fighting"><param name="text" value="<html><u>Z-fighting</u></html>"><param name="textColor" value="blue"></object>.</td>
	</tr>
</table></div>
<!-- EDIT7 TABLE [10970-12683] -->
</div>
<div>
<div><sup><a href="#fnt__1">1)</a></sup> 
UseAlpha specifies whether DiffuseMap uses the alpha channel</div>
<div><sup><a href="#fnt__2">2)</a></sup> 
LATC Specifies whether NormalMap is BC5/ATI2n/LATC/3Dc-compressed</div>
<div><sup><a href="#fnt__3">3)</a></sup> 
Minnaert is a shader type.</div>
<div><sup><a href="#fnt__4">4)</a></sup> 
WardIso is a shader type.</div>
</div>
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:advanced:materials_overview?do=export_xhtmlbody">view online version</a></em></p>